/* Bu 3 satır Tailwind'in çalışması için zorunludur. ASLA SİLMEYİN. */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== iOS Native Foundation ===== */
html,
body {
  overscroll-behavior-y: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Prevent iOS zoom on input focus */
  touch-action: manipulation;
  /* Remove tap highlight on iOS */
  -webkit-tap-highlight-color: transparent;
}

/* ===== Remove focus outlines on charts (mobile native feel) ===== */
.recharts-wrapper,
.recharts-surface,
.recharts-wrapper *,
.recharts-pie,
.recharts-pie-sector,
.recharts-sector,
.recharts-layer,
.recharts-area,
.recharts-curve,
svg,
svg * {
  outline: none !important;
  outline-width: 0 !important;
  outline-style: none !important;
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
  box-shadow: none !important;
}

/* Force remove focus states on all chart elements */
.recharts-wrapper:focus,
.recharts-wrapper:focus-visible,
.recharts-wrapper:active,
.recharts-surface:focus,
.recharts-surface:focus-visible,
.recharts-surface:active,
svg:focus,
svg:focus-visible,
svg:active,
svg *:focus,
svg *:focus-visible,
svg *:active,
[tabindex]:focus,
[tabindex]:focus-visible {
  outline: none !important;
  outline-width: 0 !important;
  box-shadow: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* iOS Safari specific - remove focus ring on SVG with tabindex */
svg[tabindex],
svg[tabindex="0"],
.recharts-surface[tabindex],
path[tabindex],
g[tabindex] {
  outline: none !important;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
}

/* ======================= YENİ EKLENEN BÖLÜM: Animasyonlar ======================= */
@layer utilities {

  /* Custom Utilities for Glassmorphism */
  .glass {
    @apply bg-white/70 dark:bg-[#1C1C1E]/70 backdrop-blur-xl border border-white/20 dark:border-white/10;
  }

  .glass-card {
    @apply bg-white dark:bg-[#1C1C1E] shadow-ios rounded-[20px];
  }

  .glass-float {
    @apply bg-white/15 dark:bg-[#1C1C1E]/30 backdrop-blur-3xl shadow-ios-float border border-white/10 dark:border-white/10;
  }

  /* iOS Safe Area Utilities */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .top-safe {
    top: env(safe-area-inset-top);
  }

  .min-h-safe {
    min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
}

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  body {
    @apply bg-apple-light-bg dark:bg-apple-dark-bg text-apple-light-text-primary dark:text-apple-dark-text-primary antialiased;
    font-feature-settings: "cv11", "ss01";
    height: 100%;
    width: 100%;
    overflow: hidden;
    position: fixed;
    overscroll-behavior-y: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
  }

  /* Allow text selection only in input fields */
  input,
  textarea {
    -webkit-user-select: text;
    user-select: text;
  }

  #root {
    width: 100%;
    height: 100%;
    overflow: hidden;
    padding-top: env(safe-area-inset-top);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}